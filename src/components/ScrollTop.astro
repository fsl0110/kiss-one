---
import { btnSize } from "src/consts";
import Tooltip from "./Tooltip.astro";
---

<button class="btn" id="scroll-btn">
  <Tooltip content="One Time">
    <svg
      class="scroll-top-svg"
      xmlns="http://www.w3.org/2000/svg"
      width={btnSize}
      height={btnSize}
      viewBox="0 0 16 16"
      ><path
        fill="currentColor"
        d="M15 8c0 3.9-3.1 7-7 7s-7-3.1-7-7s3.1-7 7-7s7 3.1 7 7zm1 0c0-4.4-3.6-8-8-8S0 3.6 0 8s3.6 8 8 8s8-3.6 8-8z"
      ></path><path
        fill="currentColor"
        d="M7 6.4L5.2 8.2L3.8 6.8L8 2.6l4.2 4.2l-1.4 1.4L9 6.4V13H7V6.4z"
      ></path></svg
    >
  </Tooltip>
</button>

<style>
  svg {
    cursor: pointer;
    border-radius: 50%;
    box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 8px;
  }

  #scroll-btn {
    display: none;
  }
</style>
<script>
  document.addEventListener("scroll", () => {
    window.pageYOffset >= 1000
      ? (btn.style.display = "flex")
      : (btn.style.display = "none");
  });

  const btn = document.getElementById("scroll-btn") as HTMLButtonElement;

  btn.addEventListener("click", () => {
    window.scrollTo({ top: 0, left: 0, behavior: "smooth" });
  });
</script>
